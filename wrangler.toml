# wrangler.toml

name = "worker-wandering-rain-01aa"
main = "src/index.ts"
compatibility_date = "2024-07-25"

# 使用免费套餐并通过 workers.dev 访问时可保持默认（workers_dev=true）。
# 如需绑定自定义域名，请在 Cloudflare 面板添加 Route，或在此处配置 route/routes（示例见下方注释）。
# 参考：https://developers.cloudflare.com/workers/wrangler/configuration/

# workers_dev = true
# route = { pattern = "example.com/*", zone_name = "example.com" }
# routes = [
#   { pattern = "www.example.com/*", zone_name = "example.com" },
#   { pattern = "api.example.com/*",  zone_name = "example.com" }
# ]

[observability]
# Explicitly disable Observability to avoid Logpush/script-settings calls on free plans
enabled = false

[vars]
# 数据库连接配置应该使用 Secret，但为了方便部署暂时使用 vars
# 生产环境建议使用: wrangler secret put ORDS_BASE_URL
ORDS_BASE_URL = "https://w9cigs8ax3ponzm-ioftnbqu5k6zb6ea.adb.ap-tokyo-1.oraclecloudapps.com/ords"
ORDS_SCHEMA_PATH = "admin"
ORDS_API_PATH = "colorevents"
DB_USER = "ADMIN"

[triggers]
crons = ["0 */2 * * *"]  # 每 2 小时执行一次，更好地保持数据库活跃

# DB_PASSWORD 必须作为 Secret 设置，例如通过 `npx wrangler secret put DB_PASSWORD`
